import{ar as x,ag as r,ah as i,ai as a,c as e,ay as h,V as C,az as k,am as n,ax as u,aA as _,ae as y,x as v,A,Y as w,ao as P,as as b,av as B,ac as R,aC as L,aD as S}from"./index-2a6e0187.js";import{V as f}from"./VRow-1fd3371c.js";import{V as g,a as p}from"./VCol-ba6d81c5.js";const T={__name:"ArticleCard",props:["_id","content","image","title","release","category","createdAt"],setup(s){return(d,m)=>{const l=x("RouterLink");return r(),i(p,null,{default:a(()=>[e(f,null,{default:a(()=>[e(g,{cols:"12"},{default:a(()=>[e(h,{class:"article-card",hover:""},{default:a(()=>[e(C,{src:s.image[0],height:"200",cover:""},null,8,["src"]),e(k,null,{default:a(()=>[e(l,{class:"text-primary text-decoration-none",to:"/articles/"+s._id},{default:a(()=>[n(u(s.title),1)]),_:1},8,["to"])]),_:1}),e(_,null,{default:a(()=>[n(u(s.category),1)]),_:1}),e(_,null,{default:a(()=>[n(u(s.createdAt),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},E={__name:"ArticlesView",setup(s){const{api:d}=P(),m=y(),l=v([]);return A(async()=>{var o,c;try{const{data:t}=await d.get("/articles",{params:{itemsPerPage:-1}});l.value.push(...t.result.data),await w()}catch(t){console.log(t);const V=((c=(o=t==null?void 0:t.response)==null?void 0:o.data)==null?void 0:c.message)||"發生錯誤，請稍後再試";m({text:V,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}}),(o,c)=>(r(),i(p,null,{default:a(()=>[e(f,null,{default:a(()=>[(r(!0),b(R,null,B(l.value,t=>(r(),i(g,{cols:"12",md:"6",lg:"3",key:t._id},{default:a(()=>[e(T,L(S(t)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{E as default};
