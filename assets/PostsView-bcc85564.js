import{ar as g,ag as l,ah as i,ai as a,c as e,ay as x,V as h,az as C,am as c,ax as u,aA as k,aB as v,ae as w,x as y,A as P,Y as A,ao as B,as as b,av as R,ac as T,aC as L,aD as S}from"./index-2a6e0187.js";import{V as _}from"./VRow-1fd3371c.js";import{V as p,a as f}from"./VCol-ba6d81c5.js";const z={__name:"PostCard",props:["_id","content","image","title","release","createdAt"],setup(s){return(d,m)=>{const o=g("RouterLink");return l(),i(f,null,{default:a(()=>[e(_,null,{default:a(()=>[e(p,{cols:"12"},{default:a(()=>[e(x,{class:"post-card",hover:""},{default:a(()=>[e(h,{src:s.image[0],cover:"",height:"200"},null,8,["src"]),e(C,null,{default:a(()=>[e(o,{class:"text-primary text-decoration-none",to:"/posts/"+s._id},{default:a(()=>[c(u(s.title),1)]),_:1},8,["to"])]),_:1}),e(k,null,{default:a(()=>[c(u(s.createdAt),1)]),_:1}),e(v,{style:{"white-space":"pre"}},{default:a(()=>[c(u(s.content),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},F={__name:"PostsView",setup(s){const{api:d}=B(),m=w(),o=y([]);return P(async()=>{var r,n;try{const{data:t}=await d.get("/posts",{params:{itemsPerPage:-1}});o.value.push(...t.result.data),await A()}catch(t){console.log(t);const V=((n=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:n.message)||"發生錯誤，請稍後再試";m({text:V,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}}),(r,n)=>(l(),i(f,null,{default:a(()=>[e(_,null,{default:a(()=>[(l(!0),b(T,null,R(o.value,t=>(l(),i(p,{cols:"12",md:"6",lg:"3",key:t._id},{default:a(()=>[e(z,L(S(t)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{F as default};
